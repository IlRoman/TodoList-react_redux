(this["webpackJsonptodolist-react-redux"]=this["webpackJsonptodolist-react-redux"]||[]).push([[0],{17:function(t,e,n){t.exports=n(29)},28:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(2),c=n.n(o),s=n(7),i=n(1),u=n(15),l=n(3),f="https://5e720541942d92001611a8f2.mockapi.io/api/v1/tasks",d=function(t){return t.eventsList.tasksList},p=function(){return function(t){fetch(f).then((function(t){return t.json()})).then((function(e){return t(function(t){return{type:"GET_TASKSLIST",payload:{tasksList:t}}}(e))}))}},h={tasksList:[]},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_TASKSLIST":return Object(l.a)({},t,{tasksList:e.payload.tasksList});default:return t}},k=Object(i.c)({eventsList:m}),b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,E=Object(i.e)(k,b(Object(i.a)(u.a))),T=n(5),v=n(6),O=n(9),y=n(8),C=n(4),j=function(t){Object(O.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(T.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={content:""},t.handleChange=function(e){var n=e.target,a=n.name,r=n.value;t.setState(Object(C.a)({},a,r))},t}return Object(v.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"create-task"},r.a.createElement("input",{name:"content",className:"create-task__input",type:"text",value:this.state.value,onChange:this.handleChange}),r.a.createElement("button",{className:"btn create-task-btn",onClick:function(){return t.props.onCreateTask(t.state.content)}},"Create"))}}]),n}(r.a.Component),_=n(16),g=n.n(_),S=function(t){var e=t.text,n=t.done,a=t.id,o=t.onDelete,c=t.onChange;return r.a.createElement("li",{className:g()("list-item",{"list-item_done":n})},r.a.createElement("input",{className:"list-item__checkbox",defaultChecked:n,type:"checkbox",onChange:function(){return c(a)}}),r.a.createElement("span",{className:"list-item__text"},e),r.a.createElement("button",{className:"list-item__delete-btn",onClick:function(){return o(a)}}))},N=function(t){Object(O.a)(n,t);var e=Object(y.a)(n);function n(){return Object(T.a)(this,n),e.apply(this,arguments)}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.props.getTasksList()}},{key:"render",value:function(){var t=this,e=this.props.tasks.slice().sort((function(t,e){return t.done-e.done}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"title"},"Todo list"),r.a.createElement("main",{className:"todo-list"},r.a.createElement(j,{onCreateTask:this.props.onCreateTask}),r.a.createElement("ul",{className:"list"},e.map((function(e){return r.a.createElement(S,{key:e.id,id:e.id,text:e.text,done:e.done,onDelete:t.props.onDeleteTask,onChange:t.props.onUpdateTask})})))))}}]),n}(r.a.Component),L={getTasksList:p,onUpdateTask:function(t){return function(e,n){var a=n(),r=d(a).find((function(e){return e.id===t})),o=Object(l.a)({},r,{done:!r.done});(function(t,e){return fetch("".concat(f,"/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(e)})})(t,o).then((function(t){return e(p())}))}},onDeleteTask:function(t){return function(e){(function(t){return fetch("".concat(f,"/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8"}})})(t).then((function(t){return e(p())}))}},onCreateTask:function(t){return function(e,n){var a,r={text:t,done:!1,createdAt:(new Date).toISOString()};(a=r,fetch(f,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(a)})).then((function(){return e(p(n()))}))}}},x=Object(s.b)((function(t){return{tasks:d(t)}}),L)(N),D=function(){return r.a.createElement(s.a,{store:E},r.a.createElement(x,null))};n(28);c.a.render(r.a.createElement(D,null),document.querySelector("#root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.7c4b7fd6.chunk.js.map